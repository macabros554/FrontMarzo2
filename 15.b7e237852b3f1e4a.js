"use strict";(self.webpackChunkmacabrosMasterRaceFront=self.webpackChunkmacabrosMasterRaceFront||[]).push([[15],{8015:(F,m,n)=>{n.r(m),n.d(m,{RegistrarModule:()=>q});var u=n(6019),s=n(2979),o=n(7537),d=n(1659),p=n.n(d),e=n(3556),g=n(6077),c=n(4522),f=n(8260),Z=n(4753),v=n(2835),h=n(2997);let A=(()=>{class r{constructor(t){this.http=t,this.baseUrl=f.N.baseUrl}validate(t){return this.comprobarEmail(t.value).pipe((0,Z.U)(l=>null!=l?{laVerdad:!0}:null),(0,v.K)(l=>(0,h.of)(null)))}comprobarEmail(t){const a=`${this.baseUrl}/auth/email/${t}`,l=new c.WM;return l.append("Access-Control-Allow-Origin","*"),this.http.get(a,{headers:l})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(c.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function T(r,i){1&r&&(e.TgZ(0,"span",17),e._uU(1," Debe de ser de 4 letras minimo "),e.qZA())}function U(r,i){if(1&r&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.emailErrorMensaje," ")}}function R(r,i){1&r&&(e.TgZ(0,"span",17),e._uU(1," Debe de ser de 4 letras minimo "),e.qZA())}function I(r,i){1&r&&(e.TgZ(0,"span",17),e._uU(1," Debe de ser de 9 numeros "),e.qZA())}function E(r,i){1&r&&(e.TgZ(0,"span",17),e._uU(1," Debe de ser de 4 letras "),e.qZA())}const b=[{path:"",component:(()=>{class r{constructor(t,a,l,y){this.fb=t,this.router=a,this.authService=l,this.validarEmail=y,this.miFormulario=this.fb.group({name:["",[o.kI.required,o.kI.minLength(4)]],email:["",[o.kI.required,o.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")],[this.validarEmail]],calle:["",[o.kI.required,o.kI.minLength(4)]],telefono:["",[o.kI.required,o.kI.min(6e8),o.kI.max(999999999)]],password:["",[o.kI.required,o.kI.minLength(4)]]})}ngOnInit(){}registrar(){this.authService.registrar(this.miFormulario.value).subscribe({next:a=>{this.router.navigateByUrl("/")},error:a=>{p().fire("Email en uso")}})}campoEsValido(t){return this.miFormulario.controls[t].errors&&this.miFormulario.controls[t].touched}get emailErrorMensaje(){var t;const a=null===(t=this.miFormulario.get("email"))||void 0===t?void 0:t.errors;return a.required?"Se requiere email":a.pattern?"Introduce un email en formato email":a.laVerdad?"El email esta en uso":""}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o.qu),e.Y36(s.F0),e.Y36(g.e),e.Y36(A))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-registrar"]],decls:40,vars:7,consts:[[1,"container"],[1,"row"],[1,"col-lg-3","col-md-2"],[1,"col-lg-6","col-md-8"],[1,"col-lg-12","h2"],[1,"col-lg-12"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-control-label"],["type","text","placeholder","Ingrese su email","formControlName","name",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["type","email","placeholder","Ingrese su email","formControlName","email",1,"form-control"],["type","text","placeholder","Ingrese su calle","formControlName","calle",1,"form-control"],["type","number","placeholder","Ingrese su telefono","formControlName","telefono",1,"form-control"],["type","password","placeholder","Ingrese su password","formControlName","password",1,"form-control"],[1,"col-lg-12","loginbttm"],[1,"col-lg-6"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"form-text","text-danger"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e._uU(5," Registrarse "),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"div",5),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return a.registrar()}),e.TgZ(9,"div"),e.TgZ(10,"label",7),e._uU(11,"USERNAME"),e.qZA(),e._UZ(12,"input",8),e.YNc(13,T,2,0,"span",9),e.qZA(),e.TgZ(14,"div"),e.TgZ(15,"label",7),e._uU(16,"EMAIL"),e.qZA(),e._UZ(17,"input",10),e.YNc(18,U,2,1,"span",9),e.qZA(),e.TgZ(19,"div"),e.TgZ(20,"label",7),e._uU(21,"CALLE"),e.qZA(),e._UZ(22,"input",11),e.YNc(23,R,2,0,"span",9),e.qZA(),e.TgZ(24,"div"),e.TgZ(25,"label",7),e._uU(26,"TELEFONO"),e.qZA(),e._UZ(27,"input",12),e.YNc(28,I,2,0,"span",9),e.qZA(),e.TgZ(29,"div"),e.TgZ(30,"label",7),e._uU(31,"PASSWORD"),e.qZA(),e._UZ(32,"input",13),e.YNc(33,E,2,0,"span",9),e.qZA(),e._UZ(34,"br"),e.TgZ(35,"div",14),e._UZ(36,"div",15),e.TgZ(37,"div",15),e.TgZ(38,"button",16),e._uU(39,"Registrar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("formGroup",a.miFormulario),e.xp6(5),e.Q6J("ngIf",a.campoEsValido("name")),e.xp6(5),e.Q6J("ngIf",a.campoEsValido("email")),e.xp6(5),e.Q6J("ngIf",a.campoEsValido("calle")),e.xp6(5),e.Q6J("ngIf",a.campoEsValido("telefono")),e.xp6(5),e.Q6J("ngIf",a.campoEsValido("password")),e.xp6(5),e.Q6J("disabled",a.miFormulario.invalid))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,u.O5,o.wV],styles:[""]}),r})()}];let C=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[s.Bz.forChild(b)],s.Bz]}),r})(),q=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[u.ez,C,o.UX]]}),r})()}}]);