"use strict";(self.webpackChunkmacabrosMasterRaceFront=self.webpackChunkmacabrosMasterRaceFront||[]).push([[461],{4461:(R,m,d)=>{d.r(m),d.d(m,{PedidosModule:()=>I});var f=d(6019),h=d(2979),T=d(273),Z=d(1659),v=d.n(Z),t=d(3556),b=d(4522),y=d(5515),A=function(){function o(n,e,r){this.el=n,this.vcr=e,this.renderer=r,this.dtOptions={}}return o.prototype.ngOnInit=function(){var n=this;this.dtTrigger?this.dtTrigger.subscribe(function(e){n.displayTable(e)}):this.displayTable(null)},o.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},o.prototype.displayTable=function(n){var e=this;n&&(this.dtOptions=n),this.dtInstance=new Promise(function(r,i){Promise.resolve(e.dtOptions).then(function(a){0===Object.keys(a).length&&0===$("tbody tr",e.el.nativeElement).length?i("Both the table and dtOptions cannot be empty"):setTimeout(function(){var u={rowCallback:function(p,c,l){if(a.columns){var g=a.columns;e.applyNgPipeTransform(p,g),e.applyNgRefTemplate(p,g,c)}a.rowCallback&&a.rowCallback(p,c,l)}};u=Object.assign({},a,u),e.dt=$(e.el.nativeElement).DataTable(u),r(e.dt)})})})},o.prototype.applyNgPipeTransform=function(n,e){e.filter(function(i){return i.ngPipeInstance&&!i.ngTemplateRef}).forEach(function(i){var a=i.ngPipeInstance,s=e.findIndex(function(l){return l.data===i.data}),u=n.childNodes.item(s),p=$(u).text(),c=a.transform(p);$(u).text(c)})},o.prototype.applyNgRefTemplate=function(n,e,r){var i=this;e.filter(function(s){return s.ngTemplateRef&&!s.ngPipeInstance}).forEach(function(s){var u=s.ngTemplateRef,p=u.ref,c=u.context,l=e.findIndex(function(j){return j.data===s.data}),g=n.childNodes.item(l);$(g).html("");var N=Object.assign({},c,null==c?void 0:c.userData,{adtData:r}),E=i.vcr.createEmbeddedView(p,N);i.renderer.appendChild(g,E.rootNodes[0])})},o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(t.Qsj))},o.\u0275dir=t.lG2({type:o,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),o}(),P=function(){function o(){}return o.forRoot=function(){return{ngModule:o}},o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.ez]]}),o}(),O=d(4206);function x(o,n){1&o&&t._UZ(0,"app-loading",5),2&o&&t.Q6J("texto","Pedidos")}function U(o,n){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.dueniotarjeta),t.xp6(2),t.Oqu(e.fechaPack),t.xp6(2),t.Oqu(e.ordenador.nombre),t.xp6(2),t.AsE("",e.ordenador.discoduro.nombre," ",e.ordenador.discoduro.capacidad,""),t.xp6(2),t.Oqu(e.ordenador.fuente.nombre),t.xp6(2),t.Oqu(e.ordenador.grafica.modelo),t.xp6(2),t.Oqu(e.ordenador.procesador.modelo),t.xp6(2),t.AsE("",e.ordenador.ram.nombre," ",e.ordenador.ram.kit,""),t.xp6(2),t.Oqu(e.ordenador.precio)}}function q(o,n){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,U,21,12,"tr",6),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.pedidos)}}const D=function(){return["/paginasProtegidas/datosUsuario"]},M=[{path:"",component:(()=>{class o{constructor(e,r,i){this.http=e,this.serviceUsuario=r,this.router=i,this.dtOptions={},this.dtTrigger=new T.x,this.pedidosDefinitivos=[],this.pedidoEspera=!1}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:4,language:{url:"http://cdn.datatables.net/plug-ins/1.11.5/i18n/es-ES.json"}},this.sacarPedidos()}ngOnDestroy(){this.dtTrigger.unsubscribe()}sacarPedidos(){this.serviceUsuario.buscarPedidos().subscribe({next:e=>{this.pedidos=e,this.sacarOrdenadores()},error:e=>{}})}sacarOrdenadores(){let e=0;this.pedidos.forEach(r=>{this.serviceUsuario.buscarOrdenador(r.id).subscribe({next:i=>{this.pedidos[e].ordenador=i,e++,e==this.pedidos.length&&(this.dtTrigger.next(null),this.tipos())},error:i=>{v().fire("No tiene ordenadores asociados a un pedido",i.error.mensaje)}})})}tipos(){this.discos1TB=this.pedidos.filter(e=>"1TB"==e.ordenador.discoduro.capacidad),this.proIntel=this.pedidos.filter(e=>"AMD"==e.ordenador.procesador.marca),this.proAMD=this.pedidos.filter(e=>"Intel"==e.ordenador.procesador.marca),this.pedidosDefinitivos=this.pedidos,this.pedidoEspera=!0}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b.eN),t.Y36(y.i),t.Y36(h.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pedidos"]],decls:28,vars:6,consts:[[3,"texto",4,"ngIf"],[1,"container"],["datatable","",1,"table","table-striped","table-bordered","row-border","table-hover","con",3,"dtOptions","dtTrigger"],[4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],[3,"texto"],[4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(t.YNc(0,x,1,1,"app-loading",0),t.TgZ(1,"div",1),t.TgZ(2,"table",2),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t.TgZ(5,"th"),t._uU(6,"ID"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Due\xf1otarjeta"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Fecha compra"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Nombre ordenador"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Disco duro"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Fuente"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Grafica"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Procesador"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"RAM"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Precio"),t.qZA(),t.qZA(),t.qZA(),t.YNc(25,q,2,1,"tbody",3),t.qZA(),t.TgZ(26,"button",4),t._uU(27,"Volver"),t.qZA(),t.qZA()),2&e&&(t.Q6J("ngIf",!r.pedidoEspera),t.xp6(2),t.Q6J("dtOptions",r.dtOptions)("dtTrigger",r.dtTrigger),t.xp6(23),t.Q6J("ngIf",0!=(null==r.pedidosDefinitivos?null:r.pedidosDefinitivos.length)),t.xp6(1),t.Q6J("routerLink",t.DdM(5,D)))},directives:[f.O5,A,h.rH,O.N,f.sg],styles:[""]}),o})()}];let C=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[h.Bz.forChild(M)],h.Bz]}),o})();var F=d(8920);let I=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.ez,C,P,F.OrdenadoresModule]]}),o})()}}]);