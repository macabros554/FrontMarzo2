"use strict";(self.webpackChunkmacabrosMasterRaceFront=self.webpackChunkmacabrosMasterRaceFront||[]).push([[635],{4635:(x,p,n)=>{n.r(p),n.d(p,{FormularioCompraModule:()=>q});var u=n(6019),s=n(2979),g=n(1659),c=n.n(g),e=n(7537),o=n(3556),Z=n(230),d=n(4522),f=n(8260);let C=(()=>{class r{constructor(t){this.http=t,this.baseUrl=f.N.baseUrl}comprar(t){const a=`${this.baseUrl}/pedido`,m=(new d.WM).set("Authorization",`Bearer ${localStorage.getItem("token")}`);return this.http.post(a,t,{headers:m})}comprarOrdenador(t,a){const m=`${this.baseUrl}/pedido/${a}/ordenadornuevo`,l=(new d.WM).set("Authorization",`Bearer ${localStorage.getItem("token")}`);return this.http.post(m,t,{headers:l})}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(d.eN))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function v(r,i){1&r&&(o.TgZ(0,"span",21),o._uU(1," Debe se un email "),o.qZA())}function h(r,i){1&r&&(o.TgZ(0,"span",21),o._uU(1," debe tener 4 lentras como minimo "),o.qZA())}function A(r,i){1&r&&(o.TgZ(0,"span",21),o._uU(1," debe ser un telefono valido "),o.qZA())}function T(r,i){1&r&&(o.TgZ(0,"span",21),o._uU(1," debe ser de 3 numeros "),o.qZA())}function F(r,i){1&r&&(o.TgZ(0,"span",21),o._uU(1," deben de ser 16 numeros "),o.qZA())}function I(r,i){1&r&&(o.TgZ(0,"span",21),o._uU(1," debe tener un minimo de 4 letras "),o.qZA())}const U=[{path:"",component:(()=>{class r{constructor(t,a,m,l){this.serviceOrdenador=t,this.serviceComprar=a,this.router=m,this.fb=l,this.miFormulario=this.fb.group({direccion:["",[e.kI.required,e.kI.minLength(4)]],telefono:["",[e.kI.required,e.kI.min(6e8),e.kI.max(999999999)]],correoElectronico:["",[e.kI.required,e.kI.email]],tipopago:["",[e.kI.required]],codigotarjeta:["",[e.kI.required,e.kI.min(100),e.kI.max(999)]],tarjeta:["",[e.kI.required,e.kI.min(1e15),e.kI.max(1e16)]],dueniotarjeta:["",[e.kI.required,e.kI.minLength(4)]]})}get ordenadorGuardado(){return this.serviceOrdenador.ordenadorCaja}ngOnInit(){}comprar(){this.serviceComprar.comprar(this.miFormulario.value).subscribe({next:a=>{let m=a.id;this.serviceComprar.comprarOrdenador(this.ordenadorGuardado,a.id).subscribe({next:l=>{this.router.navigateByUrl("/paginasProtegidas/datos-compra/resumenCompra/"+m)},error:l=>{c().fire("Ordenador no enviado")}})},error:a=>{c().fire("Rellena todos los tados",a.error.mensaje)}})}campoEsValido(t){return this.miFormulario.controls[t].errors&&this.miFormulario.controls[t].touched}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(Z.H),o.Y36(C),o.Y36(s.F0),o.Y36(e.qu))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-formulario-compra"]],decls:52,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-lg-3","col-md-2"],[1,"col-lg-6","col-md-8"],[1,"col-lg-12","h2"],[1,"col-lg-12"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-control-label"],["type","email","placeholder","Ingrese su email","formControlName","correoElectronico",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["type","text","placeholder","unknown","formControlName","direccion",1,"form-control"],["type","text","placeholder","666222555","formControlName","telefono",1,"form-control"],["name","Procesador","formControlName","tipopago",1,"selector","texto1"],["value","VISA"],["value","MASTERCARD"],["type","text","placeholder","333","formControlName","codigotarjeta",1,"form-control"],["type","text","placeholder","3333 3333 3333 3333","formControlName","tarjeta",1,"form-control"],["type","text","placeholder","anonimo anonimo anonimisimo","formControlName","dueniotarjeta",1,"form-control"],[1,"col-12","div3"],[1,"col-12"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"form-text","text-danger"]],template:function(t,a){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._uU(5," Enviar ordenador "),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"div",5),o.TgZ(8,"form",6),o.NdJ("ngSubmit",function(){return a.comprar()}),o.TgZ(9,"div"),o.TgZ(10,"label",7),o._uU(11,"EMAIL"),o.qZA(),o._UZ(12,"input",8),o.YNc(13,v,2,0,"span",9),o.qZA(),o.TgZ(14,"div"),o.TgZ(15,"label",7),o._uU(16,"CALLE"),o.qZA(),o._UZ(17,"input",10),o.YNc(18,h,2,0,"span",9),o.qZA(),o.TgZ(19,"div"),o.TgZ(20,"label",7),o._uU(21,"TELEFONO"),o.qZA(),o._UZ(22,"input",11),o.YNc(23,A,2,0,"span",9),o.qZA(),o.TgZ(24,"div"),o.TgZ(25,"label",7),o._uU(26,"TIPO DE PAGO"),o.qZA(),o.TgZ(27,"select",12),o.TgZ(28,"option",13),o._uU(29,"VISA"),o.qZA(),o.TgZ(30,"option",14),o._uU(31,"Mastercard"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(32,"div"),o.TgZ(33,"label",7),o._uU(34,"CODIGO"),o.qZA(),o._UZ(35,"input",15),o.YNc(36,T,2,0,"span",9),o.qZA(),o.TgZ(37,"div"),o.TgZ(38,"label",7),o._uU(39,"TARJETA"),o.qZA(),o._UZ(40,"input",16),o.YNc(41,F,2,0,"span",9),o.qZA(),o.TgZ(42,"div"),o.TgZ(43,"label",7),o._uU(44,"DUE\xd1O TARJETA"),o.qZA(),o._UZ(45,"input",17),o.YNc(46,I,2,0,"span",9),o.qZA(),o._UZ(47,"br"),o.TgZ(48,"div",18),o.TgZ(49,"div",19),o.TgZ(50,"button",20),o._uU(51,"Enviar"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(8),o.Q6J("formGroup",a.miFormulario),o.xp6(5),o.Q6J("ngIf",a.campoEsValido("correoElectronico")),o.xp6(5),o.Q6J("ngIf",a.campoEsValido("direccion")),o.xp6(5),o.Q6J("ngIf",a.campoEsValido("telefono")),o.xp6(13),o.Q6J("ngIf",a.campoEsValido("codigotarjeta")),o.xp6(5),o.Q6J("ngIf",a.campoEsValido("tarjeta")),o.xp6(5),o.Q6J("ngIf",a.campoEsValido("dueniotarjeta")),o.xp6(4),o.Q6J("disabled",a.miFormulario.invalid))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,u.O5,e.EJ,e.YN,e.Kr],styles:["select[_ngcontent-%COMP%]{background:transparent;font-size:2px;height:5%;padding:5px;width:100%;border-radius:2vw;text-align:center}.texto1[_ngcontent-%COMP%]{font-size:1.5vw}"]}),r})()},{path:"resumenCompra/:id",loadChildren:()=>n.e(964).then(n.bind(n,9964)).then(r=>r.ResumenCompraModule)}];let b=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[s.Bz.forChild(U)],s.Bz]}),r})(),q=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[u.ez,b,e.u5,e.UX]]}),r})()}}]);